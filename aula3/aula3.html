<html>

<head>
    <style>
        body {
            color: black;
            font-family: Arial;
            line-height: 1.6;
        }

        h1 {
            color: #006600;
        }

        h2 {
            color: #003366;
        }

        hr {
            margin: 20px 0;
        }

        b {
            background-color: #f0f0f0;
            padding: 2px 4px;
        }

        i {
            color: #555;
        }

        pre {
            background-color: #f0f0f0;
            padding: 10px;
        }
    </style>
</head>

<body>

    <h1> Exercícios Guiados — Módulos e Classes em TypeScript</h1>

    <p>
        <b>Objetivo:</b><br>
        Aprender a organizar o código usando módulos, imports/exports, barrel files e paths no <b>tsconfig.json</b>, 
        mantendo separação clara entre lógica (classes) e interface (UI).
    </p>

    <hr>

    <h2>Estrutura de pastas recomendada</h2>
    <p>
        Para todos os exercícios, cria a seguinte estrutura básica:
    </p>
    <pre>
src/
│
├─ models/
│   ├─ user.ts
│   ├─ task.ts
│   └─ index.ts        &lt;-- barrel file
│
├─ services/
│   ├─ userService.ts
│   ├─ taskService.ts
│   └─ index.ts        &lt;-- barrel file
│
├─ ui/
│   ├─ renderUser.ts
│   ├─ renderTask.ts
│   └─ index.ts        &lt;-- barrel file
│
├─ utils/
│   └─ utilTypes.ts
│
├─ main.ts
└─ tsconfig.json
    </pre>

    <hr>

    <h2>Exercício 1 — Criar classes e interfaces de Users</h2>
    <p>
        Cria <b>user.ts</b> com interface <b>IUser</b> e classe <b>UserClass</b>.
    </p>
    <p>
        <i>Dicas:</i><br>
        - Interface: id (number), name (string), email (string), active (boolean)<br>
        - Classe: implementa IUser, método <b>toggleActive()</b> para alternar estado<br>
        - O método <b>toggleActive</b> <b>não</b> deve mexer na UI, só altera os dados internos.<br>
        - Exporta a classe e interface.
    </p>

    <pre>
export interface IUser {
    id: number;
    name: string;
    email: string;
    active: boolean;
}

export class UserClass implements IUser {
    constructor(
        public id: number,
        public name: string,
        public email: string,
        public active: boolean = true
    ) {}

    toggleActive() {
        this.active = !this.active;
    }
}
    </pre>

    <hr>

    <h2>Exercício 2 — Criar barrel file em models</h2>
    <p>
        Cria <b>models/index.ts</b> para exportar todos os modelos:
    </p>
    <pre>
export * from './user';
export * from './task';
    </pre>
    <p>
        <i>Motivo:</i> facilita imports em outros ficheiros, evitando paths longas e repetitivas.
    </p>

    <hr>

    <h2>Exercício 3 — Criar tsconfig.json com paths</h2>
    <p>
        Cria tsconfig.json para permitir imports relativos simples:
    </p>
    <pre>
{
    "compilerOptions": {
        "target": "es6",
        "module": "esnext",
        "baseUrl": "./src",
        "paths": {
            "@models/*": ["models/*"],
            "@services/*": ["services/*"],
            "@ui/*": ["ui/*"],
            "@utils/*": ["utils/*"]
        },
        "strict": true,
    }
}
    </pre>
    <p>
        <i>Motivo:</i> permite escrever <b>import { UserClass } from '@models';</b> sem caminhos relativos complexos.
    </p>

    <hr>

    <h2>Exercício 4 — Criar funções de serviço para Users</h2>
    <p>
        Cria <b>userService.ts</b> com funções para gerir o array de utilizadores.
    </p>
    <p>
        <i>Dicas:</i><br>
        - Funções: <b>addUser, removeUser, getActiveUsers</b><br>
        - Recebem/retornam objetos da classe UserClass<br>
        - Exporta todas as funções
    </p>

    <pre>
import { UserClass } from '@models';

const users: UserClass[] = [];

export function addUser(user: UserClass) {
    users.push(user);
}

export function removeUser(id: number) {
    return users.filter(u =&gt; u.id !== id);
}

export function getActiveUsers() {
    return users.filter(u =&gt; u.active);
}
    </pre>

    <hr>

    <h2> Exercício 5 — Criar UI para Users</h2>
    <p>
        Cria <b>renderUser.ts</b> com funções para atualizar o HTML.
    </p>
    <p>
        <i>Dicas:</i><br>
        - Recebe dados da classe, não altera nada<br>
        - Atualiza um container div com cartões de utilizador<br>
        - Cada cartão tem botão "Toggle Active" que chama <b>toggleActive()</b> da classe e depois re-renderiza<br>
        - Separação clara: lógica dentro da classe, visualização na UI
    </p>

    <pre>
import { UserClass } from '@models';

export function renderUsers(users: UserClass[]) {
    const container = document.getElementById('user-container')!;
    container.innerHTML = '';
    users.forEach(user =&gt; {
        const div = document.createElement('div');
        div.innerHTML = `
            &lt;strong&gt;${user.name}&lt;/strong&gt; 
            (${user.active ? 'Ativo' : 'Inativo'})
            &lt;button id="toggle-${user.id}"&gt;Toggle Active&lt;/button&gt;
        `;
        container.appendChild(div);
        document.getElementById(`toggle-${user.id}`)!.addEventListener('click', () =&gt; {
            user.toggleActive();
            renderUsers(users);
        });
    });
}
    </pre>

    <hr>

    
    <h2> Exercício 6 — Import e Export usando paths</h2>
    <p>
        No <b>main.ts</b> importa tudo usando paths definidos no tsconfig.
Dica: Para importar no HTML:
<pre>
&lt;script type="module" src="./dist/main.js"&gt;&lt;/script&gt;
</pre>
    </p>
    <pre>
import { UserClass } from '@models';
import { addUser, getActiveUsers } from '@services';
import { renderUsers } from '@ui';

const user1 = new UserClass(1, 'Alice', 'alice@email.com');
const user2 = new UserClass(2, 'Bob', 'bob@email.com');

addUser(user1);
addUser(user2);

renderUsers(getActiveUsers());
    </pre>

    <hr>

    <h2>Exercício 7 — Organizar o código em pastas e usar barrel files</h1>

    <p>
        <b>Objetivo:</b><br>
        Reorganizar todo o código da gestão de utilizadores e tarefas usando boas práticas de estrutura de pastas, barrel files e imports com paths definidos no <b>tsconfig.json</b>.
    </p>

    <hr>

    <hr>

    <h2>Objetivos dos Exercícios Guiados</h2>
    <p>
        ✔ Criar classes e interfaces separadas da UI<br>
        ✔ Usar módulos, imports/exports e barrel files<br>
        ✔ Configurar paths no tsconfig.json<br>
        ✔ Separar claramente lógica e visualização
    </p>

</body>

</html>
